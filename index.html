<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Okuma Yolculuƒüum Plus</title>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhai+2:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Genel Stil Ayarlarƒ± */
        body {
            font-family: 'Baloo Bhai 2', cursive; /* √áocuk dostu yeni font */
            background: linear-gradient(135deg, #81D4FA 0%, #4FC3F7 100%); /* Canlƒ± mavi gradyan */
            color: #212121; /* Koyu gri metin */
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden; /* Yatay kaydƒ±rmayƒ± engelle */
        }

        #app {
            background-color: #FFFFFF;
            border-radius: 25px; /* Daha yuvarlak k√∂≈üeler */
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2); /* Daha belirgin g√∂lge */
            max-width: 800px; /* Geni≈ületilmi≈ü maksimum geni≈ülik */
            width: 95%;
            padding: 30px;
            box-sizing: border-box;
            text-align: center;
            position: relative;
            overflow: hidden; /* ƒ∞√ßerik ta≈ümasƒ±nƒ± engelle */
            border: 5px solid #FFD700; /* Altƒ±n sarƒ±sƒ± √ßer√ßeve */
        }

        /* Ekran Ge√ßi≈ü Animasyonlarƒ± */
        .screen {
            display: none;
            animation: fadeInScale 0.6s ease-out forwards;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: translateY(20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* Ba≈ülƒ±klar */
        h1, h2 {
            color: #FF6F00; /* Canlƒ± Turuncu */
            margin-bottom: 25px;
            font-size: 2.8em; /* Daha b√ºy√ºk ba≈ülƒ±klar */
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        h2 {
            font-size: 2.2em;
            border-bottom: 3px solid #FFCC80; /* A√ßƒ±k Turuncu alt √ßizgi */
            padding-bottom: 12px;
            margin-top: 35px;
        }

        /* Giri≈ü Alanlarƒ± */
        input[type="text"] {
            width: calc(100% - 60px); /* Daha geni≈ü */
            padding: 15px 20px;
            margin-bottom: 25px;
            border: 2px solid #FFB74D; /* Turuncu √ßer√ßeve */
            border-radius: 12px;
            font-size: 1.3em;
            box-sizing: border-box;
            outline: none;
            transition: border-color 0.3s, box-shadow 0.3s;
            background-color: #FFFDE7; /* Hafif sarƒ±msƒ± arka plan */
        }

        input[type="text"]:focus {
            border-color: #FF6F00;
            box-shadow: 0 0 10px rgba(255, 111, 0, 0.4);
        }

        /* Butonlar */
        button, select {
            background-color: #4CAF50; /* Canlƒ± Ye≈üil */
            color: #fff;
            padding: 14px 30px; /* Daha b√ºy√ºk butonlar */
            border: none;
            border-radius: 12px;
            font-size: 1.3em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s;
            margin: 8px; /* Daha fazla bo≈üluk */
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
            text-transform: uppercase; /* Metni b√ºy√ºk harf yap */
            font-weight: bold;
        }

        button:hover, select:hover {
            background-color: #66BB6A; /* A√ßƒ±k Ye≈üil */
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        button:active {
            transform: translateY(0);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        /* Select Kutusu */
        select {
            width: calc(100% - 16px);
            padding: 12px 20px;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg fill="%23ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
            background-repeat: no-repeat;
            background-position: right 20px center;
            background-size: 24px auto;
            border: 2px solid #FFB74D;
            color: #212121;
            font-weight: normal;
        }

        /* Ses Ayarlarƒ± D√ºƒümesi */
        #sound-settings-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: #FFC107; /* Sarƒ± */
            color: #212121;
            padding: 10px 15px;
            font-size: 1em;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            z-index: 1000;
        }
        #sound-settings-btn:hover {
            background-color: #FFD54F;
        }

        /* Ses Ayarlarƒ± Modalƒ± */
        .modal {
            display: none;
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: #FFFDE7;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.4);
            text-align: left;
            position: relative;
            border: 3px solid #FFD700;
        }

        .close-button {
            color: #FF6F00;
            position: absolute;
            top: 15px;
            right: 25px;
            font-size: 36px;
            font-weight: bold;
            cursor: pointer;
        }
        .close-button:hover {
            color: #E65100;
        }

        .volume-control {
            margin-top: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .volume-control label {
            font-size: 1.4em;
            color: #212121;
            white-space: nowrap; /* Metnin tek satƒ±rda kalmasƒ±nƒ± saƒülar */
        }

        .volume-control input[type="range"] {
            width: 100%;
            -webkit-appearance: none;
            height: 12px; /* Kalƒ±nla≈ütƒ±rƒ±lmƒ±≈ü slider */
            background: #FFCC80; /* A√ßƒ±k turuncu yol */
            border-radius: 6px;
            outline: none;
        }

        .volume-control input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px; /* Daha b√ºy√ºk thumb */
            height: 28px;
            background: #FF6F00; /* Turuncu thumb */
            border-radius: 50%;
            cursor: grab;
            box-shadow: 0 3px 8px rgba(0,0,0,0.3);
        }

        .volume-control input[type="range"]::-moz-range-thumb {
            width: 28px;
            height: 28px;
            background: #FF6F00;
            border-radius: 50%;
            cursor: grab;
            box-shadow: 0 3px 8px rgba(0,0,0,0.3);
        }

        /* Kategori Listesi (Ana Men√º) */
        .category-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); /* Daha esnek ve biraz daha b√ºy√ºk */
            gap: 20px; /* Daha fazla bo≈üluk */
            margin-top: 30px;
        }

        .category-item {
            background-color: #8BC34A; /* Canlƒ± Ye≈üil */
            padding: 25px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1.4em;
            font-weight: bold;
            color: #fff;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 3px solid #689F38; /* Koyu ye≈üil √ßer√ßeve */
        }

        .category-item:hover {
            background-color: #9CCC65; /* A√ßƒ±k Ye≈üil */
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .category-item span {
            display: block;
            margin-top: 15px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .category-item img {
            width: 70px; /* Daha b√ºy√ºk ikonlar */
            height: 70px;
            margin-bottom: 10px;
            filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.1));
        }

        /* ƒ∞√ßerik B√∂l√ºmleri (Genel) */
        .content-section {
            padding: 20px;
            text-align: left;
            line-height: 1.8;
        }

        .content-section p {
            margin-bottom: 20px;
            font-size: 1.2em;
            color: #424242;
        }

        .challenge-container {
            background-color: #E8F5E9; /* √áok a√ßƒ±k ye≈üil */
            border-radius: 15px;
            padding: 25px;
            margin-top: 25px;
            border: 3px dashed #A5D6A7; /* Ye≈üil kesikli √ßer√ßeve */
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
        }

        .challenge-container p {
            font-weight: bold;
            color: #388E3C; /* Koyu ye≈üil */
            font-size: 1.4em;
            margin-bottom: 15px;
        }

        /* Geri Bildirim Mesajlarƒ± */
        .feedback {
            margin-top: 20px;
            font-size: 1.5em;
            font-weight: bold;
            animation: bounceIn 0.5s ease-out;
        }
        .feedback.correct { color: #2E7D32; /* Koyu Ye≈üil */ }
        .feedback.incorrect { color: #D32F2F; /* Koyu Kƒ±rmƒ±zƒ± */ }

        @keyframes bounceIn {
            0% { transform: scale(0.5); opacity: 0; }
            70% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); }
        }

        /* Navigasyon Butonlarƒ± (Ana Men√º, Sonraki) */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #FFCC80;
        }

        .nav-buttons button {
            background-color: #FF6F00; /* Turuncu */
            color: #fff;
            padding: 12px 25px;
            font-size: 1.1em;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        .nav-buttons button:hover {
            background-color: #E65100;
        }

        /* Harfler, Heceler, Sayƒ±lar, ≈ûekiller, Duygular Gridleri */
        .letters-grid, .syllables-grid, .numbers-grid, .shapes-grid, .emotions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(90px, 1fr)); /* Daha b√ºy√ºk kartlar */
            gap: 15px; /* Daha fazla bo≈üluk */
            margin: 25px 0;
        }

        .letter-card, .syllable-card, .number-card, .shape-card, .emotion-card {
            background-color: #FFFFFF;
            border: 3px solid #8BC34A; /* Canlƒ± ye≈üil √ßer√ßeve */
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s;
            cursor: pointer;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .letter-card:hover, .syllable-card:hover, .number-card:hover, .shape-card:hover, .emotion-card:hover {
            transform: scale(1.08);
            box-shadow: 0 8px 18px rgba(0, 0, 0, 0.25);
            background-color: #E8F5E9; /* Hover'da a√ßƒ±k ye≈üil */
        }

        .letter-card img, .shape-card img, .emotion-card img {
            width: 65px; /* Daha b√ºy√ºk ikonlar */
            height: 65px;
            margin-bottom: 10px;
            filter: drop-shadow(1px 1px 2px rgba(0,0,0,0.1));
        }

        .letter-card span {
            display: block;
            font-size: 2.8em; /* Daha b√ºy√ºk harfler */
            font-weight: bold;
            color: #FF6F00; /* Turuncu Harfler */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .syllable-card, .number-card {
            font-size: 2.2em;
            font-weight: bold;
            color: #FF6F00;
            padding: 20px;
        }

        .shape-card span, .emotion-card span {
            font-size: 1.3em;
            font-weight: bold;
            color: #388E3C;
        }

        /* Sayƒ±lar i√ßin √∂zel butonlar */
        .number-buttons button {
            width: 70px; /* Daha b√ºy√ºk yuvarlak butonlar */
            height: 70px;
            border-radius: 50%;
            font-size: 1.8em;
            margin: 8px;
            background-color: #FF9800; /* Canlƒ± Turuncu */
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
        }
        .number-buttons button:hover {
            background-color: #FB8C00;
        }

        /* ≈ûekiller ve Renkler i√ßin */
        .shape-challenge img {
            width: 150px; /* Daha b√ºy√ºk ≈üekiller */
            height: 150px;
            margin: 15px;
            cursor: pointer;
            border: 4px solid transparent;
            border-radius: 15px;
            transition: border-color 0.3s, transform 0.2s;
        }
        .shape-challenge img:hover {
            border-color: #FF6F00;
            transform: scale(1.05);
        }
        .color-challenge button {
            width: 90px; /* Daha b√ºy√ºk renk butonlarƒ± */
            height: 90px;
            border-radius: 50%;
            margin: 15px;
            border: 4px solid #FFFFFF; /* Beyaz √ßer√ßeve */
            transition: transform 0.2s, border-color 0.3s, box-shadow 0.3s;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
        }
        .color-challenge button:hover {
            transform: scale(1.1);
            border-color: #FF6F00;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.25);
        }

        /* Zƒ±t Kavramlar */
        .opposites-challenge {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-top: 25px;
            flex-wrap: wrap; /* K√º√ß√ºk ekranlarda alt alta ge√ßsin */
        }
        .opposites-challenge div {
            padding: 15px;
            border-radius: 15px;
            background-color: #FFF9C4; /* A√ßƒ±k sarƒ± arka plan */
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
            cursor: pointer;
        }
        .opposites-challenge div:hover {
            transform: translateY(-5px);
        }
        .opposites-challenge img.large-icon {
            width: 120px; /* Daha b√ºy√ºk ikonlar */
            height: 120px;
            margin-bottom: 10px;
            vertical-align: middle;
        }
        .opposites-challenge button {
            min-width: 180px; /* Daha geni≈ü butonlar */
            padding: 18px 30px;
            font-size: 1.6em;
            background-color: #FF9800; /* Turuncu */
        }
        .opposites-challenge button:hover {
            background-color: #FB8C00;
        }

        /* Duygular */
        .emotion-selection {
            display: flex;
            justify-content: center;
            gap: 25px; /* Daha fazla bo≈üluk */
            margin-top: 25px;
            flex-wrap: wrap;
        }
        .emotion-selection button {
            background: #E0F2F7; /* √áok a√ßƒ±k mavi arka plan */
            border: 2px solid #B3E5FC; /* A√ßƒ±k mavi √ßer√ßeve */
            color: #212121;
            font-size: 1.2em;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 15px;
        }
        .emotion-selection button:hover {
            background: #B3E5FC;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        .emotion-selection button img {
            width: 90px; /* Daha b√ºy√ºk ikonlar */
            height: 90px;
            margin-bottom: 10px;
        }

        /* Oyunlar */
        #bubble-game-area {
            position: relative;
            width: 100%;
            height: 300px; /* Daha b√ºy√ºk oyun alanƒ± */
            background-color: #DCEDC8; /* A√ßƒ±k ye≈üil */
            border-radius: 15px;
            overflow: hidden;
            margin-top: 25px;
            border: 3px dashed #8BC34A; /* Ye≈üil kesikli √ßer√ßeve */
        }
        .bubble {
            position: absolute;
            background-color: #A5D6A7; /* Orta Ye≈üil */
            border-radius: 50%;
            cursor: pointer;
            animation: floatUp 5s infinite linear;
            font-size: 1.8em; /* Daha b√ºy√ºk metin */
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
            transition: background-color 0.2s ease, transform 0.1s ease;
        }
        .bubble:hover {
            background-color: #81C784;
            transform: scale(1.05);
        }
        @keyframes floatUp {
            from { bottom: -60px; opacity: 1; }
            to { bottom: 100%; opacity: 0; }
        }

        /* Okuma Metinleri */
        .story-text {
            background-color: #F1F8E9; /* √áok A√ßƒ±k Ye≈üil */
            padding: 25px;
            border-radius: 15px;
            text-align: left;
            margin-top: 25px;
            line-height: 2; /* Daha rahat okunabilirlik */
            font-size: 1.2em;
            color: #424242;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
        }
        .story-controls button {
            margin-top: 20px;
            background-color: #388E3C; /* Koyu Ye≈üil */
        }
        .story-controls button:hover {
            background-color: #2E7D32;
        }
        #story-options button {
            margin: 8px;
            background-color: #FF9800; /* Turuncu se√ßenekler */
        }
        #story-options button:hover {
            background-color: #FB8C00;
        }

        /* Harf Yazma Alanƒ± */
        #drawing-canvas {
            border: 3px solid #FF6F00; /* Turuncu √ßer√ßeve */
            background-color: #FFFFFF;
            cursor: crosshair;
            border-radius: 15px;
            margin-top: 25px;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }
        .drawing-controls button {
            margin: 10px 8px;
            background-color: #FFC107; /* Sarƒ± */
            color: #212121;
        }
        .drawing-controls button:hover {
            background-color: #FFD54F;
        }

        /* K√º√ß√ºk ekranlar i√ßin responsive ayarlar */
        @media (max-width: 600px) {
            #app {
                padding: 20px;
            }
            h1 {
                font-size: 2.2em;
            }
            h2 {
                font-size: 1.8em;
            }
            .category-list {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 15px;
            }
            .category-item {
                font-size: 1.1em;
                padding: 15px;
            }
            .category-item img {
                width: 50px;
                height: 50px;
            }
            button, select {
                padding: 10px 20px;
                font-size: 1.1em;
            }
            input[type="text"] {
                padding: 10px 15px;
                font-size: 1.1em;
            }
            .volume-control label {
                font-size: 1.2em;
            }
            .letter-card span {
                font-size: 2.2em;
            }
            .syllable-card, .number-card {
                font-size: 1.6em;
            }
            .shape-challenge img {
                width: 100px;
                height: 100px;
            }
            .color-challenge button {
                width: 70px;
                height: 70px;
            }
            .opposites-challenge button {
                min-width: 120px;
                font-size: 1.2em;
            }
            .emotion-selection button img {
                width: 70px;
                height: 70px;
            }
            #bubble-game-area {
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <button id="sound-settings-btn" onclick="openSoundSettings()">üîä Ses Ayarlarƒ±</button>

        <div id="soundSettingsModal" class="modal">
            <div class="modal-content">
                <span class="close-button" onclick="closeSoundSettings()">&times;</span>
                <h2>Ses Ayarlarƒ±</h2>
                <div class="volume-control">
                    <label for="masterVolume">Genel Ses Seviyesi:</label>
                    <input type="range" id="masterVolume" min="0" max="1" step="0.01" value="1" oninput="setAllVolumes(this.value)">
                </div>
            </div>
        </div>

        <div id="screen-login" class="screen active">
            <h1>Okuma Yolculuƒüum Plus</h1>
            <p>Adƒ±n:</p>
            <input type="text" id="username" placeholder="Adƒ±nƒ± buraya yaz">
            <button onclick="login()">Ba≈üla</button>
        </div>

        <div id="screen-menu" class="screen">
            <h1>Ho≈ügeldin, <span id="user-name"></span>!</h1>
            <select id="level-filter" onchange="applyFilter()">
                <option value="all">Seviye: T√ºm√º</option>
                <option value="easy">Kolay</option>
                <option value="medium">Orta</option>
                <option value="hard">Zor</option>
            </select>
            <div class="category-list">
                <div class="category-item" onclick="openSection('letters')">
                    <img src="https://cdn-icons-png.flaticon.com/512/2927/2927357.png" alt="Harfler">
                    <span>üî§ Harfler</span>
                </div>
                <div class="category-item" onclick="openSection('syllables')">
                    <img src="https://cdn-icons-png.flaticon.com/512/3233/3233777.png" alt="Hece & Kelime">
                    <span>üß© Hece & Kelime</span>
                </div>
                <div class="category-item" onclick="openSection('sentences')">
                    <img src="https://cdn-icons-png.flaticon.com/512/2927/2927236.png" alt="C√ºmleler">
                    <span>üìö C√ºmleler</span>
                </div>
                <div class="category-item" onclick="openSection('numbers')">
                    <img src="https://cdn-icons-png.flaticon.com/512/2927/2927341.png" alt="Sayƒ±lar">
                    <span>üî¢ Sayƒ±lar</span>
                </div>
                <div class="category-item" onclick="openSection('shapes')">
                    <img src="https://cdn-icons-png.flaticon.com/512/2927/2927375.png" alt="≈ûekiller & Renkler">
                    <span>üé® ≈ûekiller & Renkler</span>
                </div>
                <div class="category-item" onclick="openSection('opposites')">
                    <img src="https://cdn-icons-png.flaticon.com/512/2927/2927244.png" alt="Zƒ±t Kavramlar">
                    <span>üé≠ Zƒ±t Kavramlar</span>
                </div>
                <div class="category-item" onclick="openSection('emotions')">
                    <img src="https://cdn-icons-png.flaticon.com/512/2927/2927329.png" alt="Duygular">
                    <span>üòä Duygular</span>
                </div>
                <div class="category-item" onclick="openSection('dictation')">
                    <img src="https://cdn-icons-png.flaticon.com/512/2927/2927236.png" alt="Dikte">
                    <span>‚úçÔ∏è Dikte</span>
                </div>
                <div class="category-item" onclick="openSection('letter-tracing')">
                    <img src="https://cdn-icons-png.flaticon.com/512/2927/2927361.png" alt="Harf Yazma">
                    <span>‚úèÔ∏è Harf Yazma</span>
                </div>
                <div class="category-item" onclick="openSection('games')">
                    <img src="https://cdn-icons-png.flaticon.com/512/2927/2927324.png" alt="Oyunlar">
                    <span>üéÆ Oyunlar</span>
                </div>
                <div class="category-item" onclick="openSection('stories')">
                    <img src="https://cdn-icons-png.flaticon.com/512/2927/2927326.png" alt="Okuma Metinleri">
                    <span>üìñ Okuma Metinleri</span>
                </div>
            </div>
        </div>

        <div id="screen-letters" class="screen">
            <h2>üî§ Harfler</h2>
            <div class="letters-grid" id="letters-grid">
                </div>
            <div class="nav-buttons">
                <button onclick="goMenu()">Ana Men√º</button>
                <button onclick="nextSection()">Sonraki</button>
            </div>
        </div>

        <div id="screen-syllables" class="screen content-section">
            <h2>üß© Hece & Kelime</h2>
            <div class="challenge-container">
                <p>Hece Olu≈üturma: A≈üaƒüƒ±daki harfleri birle≈ütirerek doƒüru heceyi bul.</p>
                <div class="syllables-grid">
                    <button class="syllable-card" onclick="checkSyllable('BA')">B + A</button>
                    <button class="syllable-card" onclick="checkSyllable('EL')">E + L</button>
                    <button class="syllable-card" onclick="checkSyllable('MA')">M + A</button>
                </div>
                <p id="syllable-feedback" class="feedback"></p>
            </div>

            <div class="challenge-container" style="margin-top: 30px;">
                <p>Kelime Tamamlama: Eksik harfi bul ve kelimeyi tamamla!</p>
                <p style="font-size: 1.5em; font-weight: bold; margin: 15px 0;">ELM_</p>
                <div class="syllables-grid">
                    <button onclick="checkWord('ELMA')">A</button>
                    <button onclick="checkWord('ELME')">E</button>
                    <button onclick="checkWord('ELMI')">I</button>
                </div>
                <p id="word-feedback" class="feedback"></p>
            </div>

            <div class="nav-buttons">
                <button onclick="goMenu()">Ana Men√º</button>
                <button onclick="nextSection()">Sonraki</button>
            </div>
        </div>

        <div id="screen-sentences" class="screen content-section">
            <h2>üìö C√ºmleler</h2>
            <div class="challenge-container">
                <p>A≈üaƒüƒ±daki c√ºmleyi dinle ve ne hakkƒ±nda olduƒüunu anla.</p>
                <p style="font-size: 1.3em; font-weight: bold; color: #FF6F00;">"Kedi s√ºt i√ßer."</p>
                <button onclick="playSentence('s1')">Dinle</button>
            </div>

            <div class="challenge-container" style="margin-top: 30px;">
                <p>Bu c√ºmlede kimin s√ºt i√ßtiƒüini bul:</p>
                <button onclick="checkSentenceAnswer('Kedi')">Kedi</button>
                <button onclick="checkSentenceAnswer('K√∂pek')">K√∂pek</button>
                <button onclick="checkSentenceAnswer('Ku≈ü')">Ku≈ü</button>
                <p id="sentence-feedback" class="feedback"></p>
            </div>
            
            <div class="nav-buttons">
                <button onclick="goMenu()">Ana Men√º</button>
                <button onclick="nextSection()">Sonraki</button>
            </div>
        </div>

        <div id="screen-numbers" class="screen content-section">
            <h2>üî¢ Sayƒ±lar</h2>
            <p>A≈üaƒüƒ±daki sayƒ±larƒ± √∂ƒürenelim ve dinleyelim:</p>
            <div class="numbers-grid number-buttons">
                <button onclick="playSound('n1')">1</button>
                <button onclick="playSound('n2')">2</button>
                <button onclick="playSound('n3')">3</button>
                <button onclick="playSound('n4')">4</button>
                <button onclick="playSound('n5')">5</button>
                <button onclick="playSound('n6')">6</button>
                <button onclick="playSound('n7')">7</button>
                <button onclick="playSound('n8')">8</button>
                <button onclick="playSound('n9')">9</button>
                <button onclick="playSound('n10')">10</button>
            </div>
            
            <div class="challenge-container">
                <p>Resimdeki elmalarƒ±n sayƒ±sƒ±nƒ± bul:</p>
                <img src="https://cdn-icons-png.flaticon.com/512/123/123300.png" alt="√ú√ß Elma" style="width:150px; margin: 15px auto; display: block;">
                <p style="font-size: 1.3em; font-weight: bold;">Ka√ß elma var?</p>
                <button onclick="checkNumber(3)">3</button>
                <button onclick="checkNumber(4)">4</button>
                <button onclick="checkNumber(2)">2</button>
                <p id="number-feedback" class="feedback"></p>
            </div>

            <div class="nav-buttons">
                <button onclick="goMenu()">Ana Men√º</button>
                <button onclick="nextSection()">Sonraki</button>
            </div>
        </div>

        <div id="screen-shapes" class="screen content-section">
            <h2>üé® ≈ûekiller & Renkler</h2>
            <p>Farklƒ± ≈üekilleri tanƒ±yalƒ±m:</p>
            <div class="shapes-grid">
                <div class="shape-card" onclick="playSound('circle')">
                    <img src="https://cdn-icons-png.flaticon.com/512/616/616558.png" alt="Daire"><span>Daire</span>
                </div>
                <div class="shape-card" onclick="playSound('square')">
                    <img src="https://cdn-icons-png.flaticon.com/512/616/616572.png" alt="Kare"><span>Kare</span>
                </div>
                <div class="shape-card" onclick="playSound('triangle')">
                    <img src="https://cdn-icons-png.flaticon.com/512/616/616601.png" alt="√ú√ßgen"><span>√ú√ßgen</span>
                </div>
            </div>

            <div class="challenge-container shape-challenge">
                <p>A≈üaƒüƒ±daki ≈üekillerden **Daire** olanƒ± bul:</p>
                <img src="https://cdn-icons-png.flaticon.com/512/616/616572.png" alt="Kare" onclick="checkShape('Kare')"/>
                <img src="https://cdn-icons-png.flaticon.com/512/616/616558.png" alt="Daire" onclick="checkShape('Daire')"/>
                <p id="shape-feedback" class="feedback"></p>
            </div>

            <div class="challenge-container color-challenge" style="margin-top: 30px;">
                <p>A≈üaƒüƒ±daki renklerden **Kƒ±rmƒ±zƒ±** olanƒ± bul:</p>
                <button style="background:blue;" onclick="checkColor('blue')"></button>
                <button style="background:red;" onclick="checkColor('red')"></button>
                <button style="background:green;" onclick="checkColor('green')"></button>
                <p id="color-feedback" class="feedback"></p>
            </div>

            <div class="nav-buttons">
                <button onclick="goMenu()">Ana Men√º</button>
                <button onclick="nextSection()">Sonraki</button>
            </div>
        </div>

        <div id="screen-opposites" class="screen content-section">
            <h2>üé≠ Zƒ±t Kavramlar</h2>
            <p>A≈üaƒüƒ±daki zƒ±t kavramlarƒ± √∂ƒürenelim:</p>
            <div class="challenge-container opposites-challenge">
                <div onclick="playSound('buyuk')">
                    <img src="https://cdn-icons-png.flaticon.com/512/388/388480.png" class="large-icon" alt="B√ºy√ºk Fil">
                    <p>B√ºy√ºk</p>
                </div>
                <div onclick="playSound('kucuk')">
                    <img src="https://cdn-icons-png.flaticon.com/512/388/388481.png" class="large-icon" alt="K√º√ß√ºk Fare">
                    <p>K√º√ß√ºk</p>
                </div>
            </div>

            <div class="challenge-container opposites-challenge" style="margin-top: 30px;">
                <p>A≈üaƒüƒ±dakilerden **B√úY√úK** olanƒ± se√ß:</p>
                <button onclick="checkOpposite('B√úY√úK')">B√úY√úK</button>
                <button onclick="checkOpposite('k√º√ß√ºk')">k√º√ß√ºk</button>
                <p id="opposite-feedback" class="feedback"></p>
            </div>

            <div class="nav-buttons">
                <button onclick="goMenu()">Ana Men√º</button>
                <button onclick="nextSection()">Sonraki</button>
            </div>
        </div>

        <div id="screen-emotions" class="screen content-section">
            <h2>üòä Duygular</h2>
            <p>Nasƒ±l hissediyorsun? Resimlere tƒ±klayarak duygularƒ± √∂ƒürenelim:</p>
            <div class="emotion-selection">
                <button onclick="playSound('mutlu')">
                    <img src="https://cdn-icons-png.flaticon.com/512/742/742751.png" alt="Mutlu">
                    <span>Mutlu</span>
                </button>
                <button onclick="playSound('uzgun')">
                    <img src="https://cdn-icons-png.flaticon.com/512/742/742753.png" alt="√úzg√ºn">
                    <span>√úzg√ºn</span>
                </button>
                <button onclick="playSound('kizgin')">
                    <img src="https://cdn-icons-png.flaticon.com/512/742/742756.png" alt="Kƒ±zgƒ±n">
                    <span>Kƒ±zgƒ±n</span>
                </button>
            </div>

            <div class="challenge-container" style="margin-top: 30px;">
                <p>Resimdeki ki≈üinin duygusu nedir?</p>
                <img src="https://cdn-icons-png.flaticon.com/512/742/742751.png" style="width: 100px; margin: 15px auto; display: block;" alt="Mutlu y√ºz"/>
                <button onclick="checkEmotion('Mutlu')">Mutlu</button>
                <button onclick="checkEmotion('Kƒ±zgƒ±n')">Kƒ±zgƒ±n</button>
                <p id="emotion-feedback" class="feedback"></p>
            </div>

            <div class="nav-buttons">
                <button onclick="goMenu()">Ana Men√º</button>
                <button onclick="nextSection()">Sonraki</button>
            </div>
        </div>

        <div id="screen-dictation" class="screen content-section">
            <h2>‚úçÔ∏è Dikte √áalƒ±≈ümalarƒ±</h2>
            <p>Dinlediƒüin kelimeyi veya c√ºmleyi dikkatlice yaz.</p>
            <div class="challenge-container" style="margin-top: 20px;">
                <p style="font-size: 1.3em; font-weight: bold; margin-bottom: 15px;">Dinle ve Yaz:</p>
                <button onclick="startDictation()">üéß Dinle</button>
                <input type="text" id="dictation-input" placeholder="Buraya yaz...">
                <button onclick="checkDictation()">Kontrol Et</button>
                <p id="dictation-feedback" class="feedback" style="margin-top: 15px;"></p>
            </div>

            <div class="nav-buttons">
                <button onclick="goMenu()">Ana Men√º</button>
                <button onclick="nextSection()">Sonraki</button>
            </div>
        </div>

        <div id="screen-letter-tracing" class="screen content-section">
            <h2>‚úèÔ∏è Harfleri ƒ∞zleyerek Yazma</h2>
            <p>Se√ßtiƒüin harfin √ºzerinden parmaƒüƒ±nla veya farenle ge√ßerek yazmayƒ± √∂ƒüren.</p>
            <div class="challenge-container">
                <p style="font-size: 1.5em; font-weight: bold; color: #FF6F00;">Harf: <span id="tracing-letter">A</span></p>
                <canvas id="drawing-canvas" width="350" height="250"></canvas> <div class="drawing-controls">
                    <button onclick="loadTracingLetter()">Yeni Harf</button>
                    <button onclick="clearCanvas()">Temizle</button>
                    <button onclick="checkTracing()">Kontrol Et</button>
                </div>
                <p id="tracing-feedback" class="feedback"></p>
            </div>

            <div class="nav-buttons">
                <button onclick="goMenu()">Ana Men√º</button>
                <button onclick="nextSection()">Sonraki</button>
            </div>
        </div>

        <div id="screen-games" class="screen content-section">
            <h2>üéÆ Oyunlar</h2>
            <h3>Baloncuk Patlatma Oyunu</h3>
            <p>Baloncuklara tƒ±klayarak onlarƒ± patlat ve puan kazan!</p>
            <div id="bubble-game-area">
                </div>
            <p style="font-weight: bold; margin-top: 15px;">Puan: <span id="score">0</span></p>
            <button onclick="startGame()">Oyunu Ba≈ülat</button>

            <div class="nav-buttons">
                <button onclick="goMenu()">Ana Men√º</button>
                <button onclick="nextSection()">Sonraki</button>
            </div>
        </div>

        <div id="screen-stories" class="screen content-section">
            <h2>üìñ Okuma Metinleri</h2>
            <div class="story-text">
                <h3 id="story-title"></h3>
                <p id="story-content"></p>
            </div>
            <div class="story-controls">
                <button onclick="playStory()">Dinle</button>
                <button onclick="stopStory()">Durdur</button>
                <button onclick="nextStory()">Yeni Hikaye</button>
            </div>
            <div class="challenge-container" style="margin-top: 20px;">
                <p id="story-question"></p>
                <div id="story-options">
                    </div>
                <p id="story-feedback" class="feedback"></p>
            </div>

            <div class="nav-buttons">
                <button onclick="goMenu()">Ana Men√º</button>
            </div>
        </div>

        <div id="audio-container" style="display:none;">
            <audio id="A" src="https://upload.wikimedia.org/wikipedia/commons/5/55/Turkish_alphabet_A.ogg"></audio>
            <audio id="B" src="https://upload.wikimedia.org/wikipedia/commons/b/be/Turkish_alphabet_B.ogg"></audio>
            <audio id="C" src="https://upload.wikimedia.org/wikipedia/commons/f/f3/Turkish_alphabet_C.ogg"></audio>
            <audio id="√á" src="https://upload.wikimedia.org/wikipedia/commons/6/6f/Turkish_alphabet_%C3%87.ogg"></audio>
            <audio id="D" src="https://upload.wikimedia.org/wikipedia/commons/8/84/Turkish_alphabet_D.ogg"></audio>
            <audio id="E" src="https://upload.wikimedia.org/wikipedia/commons/d/da/Turkish_alphabet_E.ogg"></audio>
            <audio id="F" src="https://upload.wikimedia.org/wikipedia/commons/e/ea/Turkish_alphabet_F.ogg"></audio>
            <audio id="G" src="https://upload.wikimedia.org/wikipedia/commons/7/7b/Turkish_alphabet_G.ogg"></audio>
            <audio id="ƒû" src="https://upload.wikimedia.org/wikipedia/commons/1/1a/Turkish_alphabet_%C4%9E.ogg"></audio>
            <audio id="H" src="https://upload.wikimedia.org/wikipedia/commons/e/e4/Turkish_alphabet_H.ogg"></audio>
            <audio id="I" src="https://upload.wikimedia.org/wikipedia/commons/1/18/Turkish_alphabet_I.ogg"></audio>
            <audio id="ƒ∞" src="https://upload.wikimedia.org/wikipedia/commons/0/02/Turkish_alphabet_%C4%B0.ogg"></audio>
            <audio id="J" src="https://upload.wikimedia.org/wikipedia/commons/e/e0/Turkish_alphabet_J.ogg"></audio>
            <audio id="K" src="https://upload.wikimedia.org/wikipedia/commons/5/52/Turkish_alphabet_K.ogg"></audio>
            <audio id="L" src="https://upload.wikimedia.org/wikipedia/commons/8/87/Turkish_alphabet_L.ogg"></audio>
            <audio id="M" src="https://upload.wikimedia.org/wikipedia/commons/3/36/Turkish_alphabet_M.ogg"></audio>
            <audio id="N" src="https://upload.wikimedia.org/wikipedia/commons/6/6f/Turkish_alphabet_N.ogg"></audio>
            <audio id="O" src="https://upload.wikimedia.org/wikipedia/commons/0/0c/Turkish_alphabet_O.ogg"></audio>
            <audio id="√ñ" src="https://upload.wikimedia.org/wikipedia/commons/4/4e/Turkish_alphabet_%C3%96.ogg"></audio>
            <audio id="P" src="https://upload.wikimedia.org/wikipedia/commons/1/1d/Turkish_alphabet_P.ogg"></audio>
            <audio id="R" src="https://upload.wikimedia.org/wikipedia/commons/1/17/Turkish_alphabet_R.ogg"></audio>
            <audio id="S" src="https://upload.wikimedia.org/wikipedia/commons/0/0a/Turkish_alphabet_S.ogg"></audio>
            <audio id="≈û" src="https://upload.wikimedia.org/wikipedia/commons/d/da/Turkish_alphabet_%C5%9E.ogg"></audio>
            <audio id="T" src="https://upload.wikimedia.org/wikipedia/commons/3/36/Turkish_alphabet_T.ogg"></audio>
            <audio id="U" src="https://upload.wikimedia.org/wikipedia/commons/0/0f/Turkish_alphabet_U.ogg"></audio>
            <audio id="√ú" src="https://upload.wikimedia.org/wikipedia/commons/f/f7/Turkish_alphabet_%C3%9C.ogg"></audio>
            <audio id="V" src="https://upload.wikimedia.org/wikipedia/commons/c/c5/Turkish_alphabet_V.ogg"></audio>
            <audio id="Y" src="https://upload.wikimedia.org/wikipedia/commons/f/f1/Turkish_alphabet_Y.ogg"></audio>
            <audio id="Z" src="https://upload.wikimedia.org/wikipedia/commons/2/23/Turkish_alphabet_Z.ogg"></audio>

            <audio id="n1" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>
            <audio id="n2" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"></audio>
            <audio id="n3" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"></audio>
            <audio id="n4" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3"></audio>
            <audio id="n5" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3"></audio>
            <audio id="n6" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3"></audio>
            <audio id="n7" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-7.mp3"></audio>
            <audio id="n8" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3"></audio>
            <audio id="n9" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-9.mp3"></audio>
            <audio id="n10" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-10.mp3"></audio>

            <audio id="s1" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-11.mp3"></audio>

            <audio id="circle" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-12.mp3"></audio>
            <audio id="square" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-13.mp3"></audio>
            <audio id="triangle" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-14.mp3"></audio>

            <audio id="buyuk" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-15.mp3"></audio>
            <audio id="kucuk" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-16.mp3"></audio>

            <audio id="mutlu" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-17.mp3"></audio>
            <audio id="uzgun" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-18.mp3"></audio>
            <audio id="kizgin" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-19.mp3"></audio>

            <audio id="elma_sound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-20.mp3"></audio>
            <audio id="kedi_sound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-21.mp3"></audio>
            <audio id="ev_sound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-22.mp3"></audio>
            <audio id="okul_sound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-23.mp3"></audio>
            <audio id="ogrenci_sound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-24.mp3"></audio>
            <audio id="bilgisayar_sound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-25.mp3"></audio>

            <audio id="story1_sound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-26.mp3"></audio>
            <audio id="story2_sound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-27.mp3"></audio>

            <audio id="correct-sound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-28.mp3"></audio>
            <audio id="incorrect-sound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-29.mp3"></audio>
        </div>

    </div>

    <script>
        /* JavaScript Ba≈ülangƒ±cƒ± */

        // Genel Deƒüi≈ükenler ve Veriler
        const sections = ['letters', 'syllables', 'sentences', 'numbers', 'shapes', 'opposites', 'emotions', 'dictation', 'letter-tracing', 'games', 'stories'];
        const levels = ['all', 'easy', 'medium', 'hard'];
        let currentSectionIndex = 0;
        let playingAudio = null; // ≈ûu an √ßalan ses dosyasƒ±nƒ± tutar
        let userProgress = JSON.parse(localStorage.getItem('userProgress')) || {}; // Kullanƒ±cƒ± ilerlemesini kaydeder

        // Harf Verileri (T√ºrk Alfabesi) - Resimler ve Sesler ile g√ºncellendi
        const turkishAlphabet = [
            { char: 'A', img: 'https://cdn-icons-png.flaticon.com/512/3884/3884401.png', sound: 'A', level: 'easy' },
            { char: 'B', img: 'https://cdn-icons-png.flaticon.com/512/135/135620.png', sound: 'B', level: 'easy' },
            { char: 'C', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864514.png', sound: 'C', level: 'medium' },
            { char: '√á', img: 'https://cdn-icons-png.flaticon.com/512/6807/6807666.png', sound: '√á', level: 'medium' },
            { char: 'D', img: 'https://cdn-icons-png.flaticon.com/512/2913/2913627.png', sound: 'D', level: 'easy' },
            { char: 'E', img: 'https://cdn-icons-png.flaticon.com/512/6076/6076840.png', sound: 'E', level: 'easy' },
            { char: 'F', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864517.png', sound: 'F', level: 'medium' },
            { char: 'G', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864520.png', sound: 'G', level: 'medium' },
            { char: 'ƒû', img: 'https://cdn-icons-png.flaticon.com/512/6807/6807667.png', sound: 'ƒû', level: 'hard' },
            { char: 'H', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864523.png', sound: 'H', level: 'medium' },
            { char: 'I', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864526.png', sound: 'I', level: 'hard' }, // Noktasƒ±z I
            { char: 'ƒ∞', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864529.png', sound: 'ƒ∞', level: 'easy' }, // Noktalƒ± ƒ∞
            { char: 'J', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864532.png', sound: 'J', level: 'hard' },
            { char: 'K', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864535.png', sound: 'K', level: 'easy' },
            { char: 'L', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864538.png', sound: 'L', level: 'easy' },
            { char: 'M', 'img': 'https://cdn-icons-png.flaticon.com/512/1864/1864541.png', sound: 'M', level: 'easy' },
            { char: 'N', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864544.png', sound: 'N', level: 'easy' },
            { char: 'O', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864547.png', sound: 'O', level: 'easy' },
            { char: '√ñ', img: 'https://cdn-icons-png.flaticon.com/512/6807/6807668.png', sound: '√ñ', level: 'medium' },
            { char: 'P', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864550.png', sound: 'P', level: 'easy' },
            { char: 'R', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864553.png', sound: 'R', level: 'easy' },
            { char: 'S', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864556.png', sound: 'S', level: 'easy' },
            { char: '≈û', img: 'https://cdn-icons-png.flaticon.com/512/6807/6807669.png', sound: '≈û', level: 'medium' },
            { char: 'T', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864559.png', sound: 'T', level: 'easy' },
            { char: 'U', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864562.png', sound: 'U', level: 'easy' },
            { char: '√ú', img: 'https://cdn-icons-png.flaticon.com/512/6807/6807670.png', sound: '√ú', level: 'medium' },
            { char: 'V', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864565.png', sound: 'V', level: 'medium' },
            { char: 'Y', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864568.png', sound: 'Y', level: 'medium' },
            { char: 'Z', img: 'https://cdn-icons-png.flaticon.com/512/1864/1864571.png', sound: 'Z', level: 'medium' },
        ];

        // Dikte Verileri
        const dictationWords = [
            { word: "ELMA", sound: "elma_sound", level: "easy" },
            { word: "KEDƒ∞", sound: "kedi_sound", level: "easy" },
            { word: "EV", sound: "ev_sound", level: "easy" },
            { word: "OKUL", sound: "okul_sound", level: "medium" },
            { word: "√ñƒûRENCƒ∞", sound: "ogrenci_sound", level: "hard" },
            { word: "Bƒ∞LGƒ∞SAYAR", sound: "bilgisayar_sound", level: "hard" }
        ];
        let currentDictationWord = null; // ≈ûu anki dikte kelimesini tutar

        // Okuma Metinleri ve Sorular
        const stories = [
            {
                id: 'story1',
                title: "K√º√ß√ºk Ayƒ± ve Balƒ±k",
                content: `K√º√ß√ºk Ayƒ±, g√ºne≈üli bir sabah erkenden uyandƒ±. Karnƒ± √ßok a√ßtƒ± ve kahvaltƒ±da lezzetli balƒ±klar yemek istiyordu. Hemen olta takƒ±mƒ±nƒ± aldƒ± ve g√∂letin yolunu tuttu. G√∂lete vardƒ±ƒüƒ±nda suyun ne kadar berrak olduƒüunu fark etti. Biraz bekledikten sonra oltasƒ±na k√º√ß√ºk bir balƒ±k takƒ±ldƒ±. K√º√ß√ºk Ayƒ± √ßok sevindi ama sonra balƒ±ƒüƒ±n ne kadar k√º√ß√ºk olduƒüunu g√∂rd√º. "Senin b√ºy√ºmen i√ßin biraz daha zamana ihtiyacƒ±n var," dedi ve balƒ±ƒüƒ± dikkatlice suya geri bƒ±raktƒ±. Evine d√∂nerken yolda tatlƒ± bir bal arƒ±sƒ± kovanƒ± buldu ve afiyetle bal yedi. K√º√ß√ºk Ayƒ±, bazen ba≈ükalarƒ±nƒ± d√º≈ü√ºnmenin daha √∂nemli olduƒüunu √∂ƒürendi.`,
                sound: "story1_sound",
                question: "K√º√ß√ºk Ayƒ± sabah uyandƒ±ƒüƒ±nda ne yemek istiyordu?",
                options: ["Balƒ±k", "Bal", "Elma"],
                answer: "Balƒ±k"
            },
            {
                id: 'story2',
                title: "Tav≈üan ve Kaplumbaƒüa",
                content: `Bir zamanlar √ßok hƒ±zlƒ± ko≈üan bir Tav≈üan ile yava≈ü y√ºr√ºyen bir Kaplumbaƒüa varmƒ±≈ü. Tav≈üan her zaman Kaplumbaƒüa ile alay edermi≈ü. Bir g√ºn, "Gel yarƒ±≈üalƒ±m," demi≈ü Tav≈üan. Kaplumbaƒüa kabul etmi≈ü. Yarƒ±≈ü ba≈ülamƒ±≈ü ve Tav≈üan hemen ileri fƒ±rlamƒ±≈ü. O kadar hƒ±zlƒ±ymƒ±≈ü ki, yorulunca bir aƒüacƒ±n altƒ±nda uyumaya karar vermi≈ü. Kaplumbaƒüa ise hi√ß durmadan, yava≈ü yava≈ü y√ºr√ºmeye devam etmi≈ü. Tav≈üan uyandƒ±ƒüƒ±nda, Kaplumbaƒüa'nƒ±n biti≈ü √ßizgisine yakla≈ütƒ±ƒüƒ±nƒ± g√∂rm√º≈ü. Ko≈ümaya ba≈ülamƒ±≈ü ama artƒ±k √ßok ge√ß kalmƒ±≈ü. Kaplumbaƒüa yarƒ±≈üƒ± kazanmƒ±≈ü. Bu olaydan sonra Tav≈üan, kimseyi k√º√ß√ºmsememeyi ve azimli olmayƒ± √∂ƒürenmi≈ü.`,
                sound: "story2_sound",
                question: "Yarƒ±≈üƒ± kim kazandƒ±?",
                options: ["Tav≈üan", "Kaplumbaƒüa", "Tilki"],
                answer: "Kaplumbaƒüa"
            }
        ];
        let currentStoryIndex = 0;
        let currentStoryAudio = null;

        // Harf ƒ∞zleme (Tracing) i√ßin deƒüi≈ükenler
        let canvas, ctx;
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;
        let currentTracingLetter = null;

        // Ekranlarƒ± Y√∂netme Fonksiyonlarƒ±
        function switchScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById('screen-' + screenId).classList.add('active');
            stopAllSounds(); // Ekran deƒüi≈ütiƒüinde t√ºm sesleri durdur

            // Belirli b√∂l√ºmler i√ßin ba≈ülangƒ±√ß ayarlarƒ±
            if (screenId === 'letter-tracing') {
                initTracingCanvas();
                loadTracingLetter(); // Harf izleme ekranƒ± a√ßƒ±ldƒ±ƒüƒ±nda ilk harfi y√ºkle
            } else if (screenId === 'stories') {
                loadStory(currentStoryIndex); // Hikaye ekranƒ± a√ßƒ±ldƒ±ƒüƒ±nda hikayeyi y√ºkle
            } else if (screenId === 'games') {
                stopGame(); // Oyun ekranƒ±na ge√ßildiƒüinde oyunu durdur
            }
            // Diƒüer b√∂l√ºmler i√ßin √∂zel ba≈ülangƒ±√ß kodlarƒ± buraya eklenebilir
        }

        function login() {
            let name = document.getElementById('username').value.trim();
            if (!name) {
                alert('L√ºtfen adƒ±nƒ±zƒ± girin!');
                return;
            }
            localStorage.setItem('userName', name);
            document.getElementById('user-name').innerText = name;
            switchScreen('menu');
        }

        function openSection(sectionName) {
            currentSectionIndex = sections.indexOf(sectionName);
            switchScreen(sectionName);
        }

        function goMenu() {
            switchScreen('menu');
        }

        function nextSection() {
            currentSectionIndex = (currentSectionIndex + 1) % sections.length;
            switchScreen(sections[currentSectionIndex]);
        }

        // Seslendirme Fonksiyonlarƒ±
        function stopAllSounds() {
            document.querySelectorAll('audio').forEach(audio => {
                audio.pause();
                audio.currentTime = 0;
            });
            playingAudio = null; // √áalan ses bilgisini sƒ±fƒ±rla
            if (currentStoryAudio) {
                currentStoryAudio.pause();
                currentStoryAudio.currentTime = 0;
                currentStoryAudio = null;
            }
        }

        function playSound(audioId) {
            stopAllSounds(); // Yeni bir ses √ßalmadan √∂nce t√ºm sesleri durdur

            const audio = document.getElementById(audioId);
            if (audio) {
                audio.play().catch(e => console.error("Ses √ßalma hatasƒ±:", e));
                playingAudio = audio; // √áalan ses dosyasƒ±nƒ± kaydet
            } else {
                console.warn(`Ses dosyasƒ± bulunamadƒ±: ${audioId}`);
                // showFeedback(audioId + ' sesi yok!', 'incorrect', null); // Ses yoksa kullanƒ±cƒ±ya bildir - a≈üƒ±rƒ± uyarƒ± vermemek i√ßin yorum satƒ±rƒ± yapƒ±ldƒ±
            }
        }

        // Ses Ayarlarƒ± Modal Fonksiyonlarƒ±
        function openSoundSettings() {
            document.getElementById('soundSettingsModal').style.display = 'flex';
            // Kayƒ±tlƒ± ses seviyesini y√ºkle
            const savedVolume = localStorage.getItem('masterVolume');
            if (savedVolume !== null) {
                document.getElementById('masterVolume').value = savedVolume;
            }
        }

        function closeSoundSettings() {
            document.getElementById('soundSettingsModal').style.display = 'none';
        }

        function setAllVolumes(volume) {
            document.querySelectorAll('audio').forEach(audio => {
                audio.volume = volume;
            });
            localStorage.setItem('masterVolume', volume); // Ses seviyesini kaydet
        }

        // Geri Bildirim Fonksiyonu (Daha Geli≈ümi≈ü)
        function showFeedback(message, type, elementId, duration = 2000) {
            const feedbackElement = elementId ? document.getElementById(elementId) : null;
            if (feedbackElement) {
                feedbackElement.innerText = message;
                feedbackElement.className = 'feedback ' + type;
                if (type === 'correct') {
                    playSound('correct-sound');
                } else if (type === 'incorrect') {
                    playSound('incorrect-sound');
                }
                setTimeout(() => {
                    feedbackElement.innerText = '';
                    feedbackElement.className = 'feedback';
                }, duration); // Belirtilen s√ºre sonra geri bildirimi temizle
            }
        }

        // Kullanƒ±cƒ± ƒ∞lerlemesi
        function updateProgress(section, item, status) {
            if (!userProgress[section]) {
                userProgress[section] = {};
            }
            userProgress[section][item] = status; // true/false veya completed/attempted
            localStorage.setItem('userProgress', JSON.stringify(userProgress));
            // ƒ∞lerleme g√∂stergesini g√ºncelleyebiliriz (≈üimdilik basit bir kayƒ±t)
            console.log(`ƒ∞lerleme kaydedildi: ${section} - ${item}: ${status}`);
        }

        // Harfler B√∂l√ºm√º Fonksiyonlarƒ±
        function generateLetterCards() {
            const lettersGrid = document.getElementById('letters-grid');
            lettersGrid.innerHTML = ''; // Mevcut i√ßeriƒüi temizle
            turkishAlphabet.forEach(letter => {
                const card = document.createElement('div');
                card.className = 'letter-card';
                card.dataset.level = letter.level;
                card.onclick = () => {
                    playSound(letter.sound); // Harfin sesini √ßal
                    updateProgress('letters', letter.char, true); // Harfi dinlediƒüini kaydet
                };
                card.innerHTML = `
                    <img src="${letter.img}" alt="${letter.char}"/>
                    <span>${letter.char}</span>
                `;
                lettersGrid.appendChild(card);
            });
            applyFilter(); // Kartlar olu≈üturulduktan sonra filtreyi uygula
        }

        function applyFilter() {
            let filter = document.getElementById('level-filter').value;
            document.querySelectorAll('.letter-card').forEach(card => {
                if (filter === 'all' || card.dataset.level === filter) {
                    card.style.display = 'flex'; // CSS'te flex olarak ayarlandƒ±ƒüƒ± i√ßin
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Hece & Kelime B√∂l√ºm√º Fonksiyonlarƒ±
        function checkSyllable(selectedSyllable) {
            const correctSyllable = 'BA'; // √ñrnek olarak sabit
            if (selectedSyllable === correctSyllable) {
                showFeedback('Doƒüru! Harikasƒ±n!', 'correct', 'syllable-feedback');
                // playSound(selectedSyllable); // Doƒüru hecenin sesini √ßal (eƒüer varsa)
                updateProgress('syllables', 'hece_olusturma', true);
            } else {
                showFeedback('Yanlƒ±≈ü cevap. Tekrar dene.', 'incorrect', 'syllable-feedback');
                updateProgress('syllables', 'hece_olusturma', false);
            }
        }

        function checkWord(selectedChar) {
            const correctAnswer = 'ELMA';
            const currentWord = 'ELM_'; // Metindeki kelime
            const completedWord = currentWord.replace('_', selectedChar);

            if (completedWord === correctAnswer) {
                showFeedback('Tebrikler! Doƒüru kelime: ' + correctAnswer, 'correct', 'word-feedback');
                // playSound('ELMA_sound'); // Kelimenin sesini √ßal (eƒüer varsa, dictationWords'ten √ßekilebilir)
                updateProgress('syllables', 'kelime_tamamlama', true);
            } else {
                showFeedback('Yanlƒ±≈ü. Ba≈üka bir harf dene.', 'incorrect', 'word-feedback');
                updateProgress('syllables', 'kelime_tamamlama', false);
            }
        }

        // C√ºmleler B√∂l√ºm√º Fonksiyonlarƒ±
        function playSentence(sentenceId) {
            playSound(sentenceId);
            updateProgress('sentences', sentenceId + '_dinleme', true);
        }

        function checkSentenceAnswer(answer) {
            if (answer === 'Kedi') {
                showFeedback('Doƒüru! Kedi s√ºt i√ßer.', 'correct', 'sentence-feedback');
                updateProgress('sentences', 'c√ºmle_anlama', true);
            } else {
                showFeedback('Yanlƒ±≈ü. C√ºmleyi tekrar dinle.', 'incorrect', 'sentence-feedback');
                updateProgress('sentences', 'c√ºmle_anlama', false);
            }
        }

        // Sayƒ±lar B√∂l√ºm√º Fonksiyonlarƒ±
        function checkNumber(selectedNumber) {
            const correctNumber = 3; // Resimdeki elma sayƒ±sƒ±
            if (selectedNumber === correctNumber) {
                showFeedback('Doƒüru! ' + correctNumber + ' elma var.', 'correct', 'number-feedback');
                updateProgress('numbers', 'elma_sayma', true);
            } else {
                showFeedback('Yanlƒ±≈ü. Sayƒ±larƒ± tekrar say.', 'incorrect', 'number-feedback');
                updateProgress('numbers', 'elma_sayma', false);
            }
        }

        // ≈ûekiller & Renkler B√∂l√ºm√º Fonksiyonlarƒ±
        function checkShape(selectedShape) {
            const correctShape = 'Daire';
            if (selectedShape === correctShape) {
                showFeedback('Doƒüru! Bu bir ' + correctShape + '.', 'correct', 'shape-feedback');
                updateProgress('shapes', 'daire_bulma', true);
            } else {
                showFeedback('Yanlƒ±≈ü. Tekrar dene.', 'incorrect', 'shape-feedback');
                updateProgress('shapes', 'daire_bulma', false);
            }
        }

        function checkColor(selectedColor) {
            const correctColor = 'red';
            if (selectedColor === correctColor) {
                showFeedback('Doƒüru! Bu renk Kƒ±rmƒ±zƒ±.', 'correct', 'color-feedback');
                updateProgress('shapes', 'kirmizi_bulma', true);
            } else {
                showFeedback('Yanlƒ±≈ü. Dikkatli bak.', 'incorrect', 'color-feedback');
                updateProgress('shapes', 'kirmizi_bulma', false);
            }
        }

        // Zƒ±t Kavramlar B√∂l√ºm√º Fonksiyonlarƒ±
        function checkOpposite(selectedConcept) {
            const correctConcept = 'B√úY√úK';
            if (selectedConcept === correctConcept) {
                showFeedback('Doƒüru!', 'correct', 'opposite-feedback');
                updateProgress('opposites', 'buyuk_kucuk', true);
            } else {
                showFeedback('Yanlƒ±≈ü. Tekrar d√º≈ü√ºn.', 'incorrect', 'opposite-feedback');
                updateProgress('opposites', 'buyuk_kucuk', false);
            }
        }

        // Duygular B√∂l√ºm√º Fonksiyonlarƒ±
        function checkEmotion(selectedEmotion) {
            const correctEmotion = 'Mutlu'; // Resimdeki duygu
            if (selectedEmotion === correctEmotion) {
                showFeedback('Doƒüru! O mutlu g√∂r√ºn√ºyor.', 'correct', 'emotion-feedback');
                updateProgress('emotions', 'mutlu_duygu', true);
            } else {
                showFeedback('Yanlƒ±≈ü. Tekrar dene.', 'incorrect', 'emotion-feedback');
                updateProgress('emotions', 'mutlu_duygu', false);
            }
        }

        // Dikte √áalƒ±≈ümalarƒ± Fonksiyonlarƒ±
        function startDictation() {
            stopAllSounds(); // √ñnceki sesleri durdur
            // Rastgele bir kelime se√ß
            const randomIndex = Math.floor(Math.random() * dictationWords.length);
            currentDictationWord = dictationWords[randomIndex];
            
            // Ses dosyasƒ±nƒ± √ßal
            playSound(currentDictationWord.sound);

            // Giri≈ü alanƒ±nƒ± temizle
            document.getElementById('dictation-input').value = '';
            document.getElementById('dictation-feedback').innerText = '';
        }

        function checkDictation() {
            if (!currentDictationWord) {
                showFeedback('L√ºtfen √∂nce "Dinle" butonuna basarak bir kelime dinleyin.', 'incorrect', 'dictation-feedback');
                return;
            }

            const userAnswer = document.getElementById('dictation-input').value.trim().toUpperCase(); // B√ºy√ºk harfe √ßevir
            const correctAnswer = currentDictationWord.word.toUpperCase(); // B√ºy√ºk harfe √ßevir

            if (userAnswer === correctAnswer) {
                showFeedback('Harika! Doƒüru bildin!', 'correct', 'dictation-feedback');
                updateProgress('dictation', currentDictationWord.word, true);
            } else {
                showFeedback(`Yanlƒ±≈ü cevap. Doƒüru kelime: ${correctAnswer}`, 'incorrect', 'dictation-feedback');
                updateProgress('dictation', currentDictationWord.word, false);
            }
            currentDictationWord = null; // Kontrol sonrasƒ± kelimeyi sƒ±fƒ±rla
        }

        // Harfleri ƒ∞zleyerek Yazma Fonksiyonlarƒ±
        function initTracingCanvas() {
            if (!canvas) { // Kanvas daha √∂nce ba≈ülatƒ±lmadƒ±ysa
                canvas = document.getElementById('drawing-canvas');
                ctx = canvas.getContext('2d');
                ctx.lineWidth = 10; // Kalƒ±nla≈ütƒ±rƒ±lmƒ±≈ü √ßizgi
                ctx.lineCap = 'round';
                ctx.strokeStyle = '#FF6F00'; // Canlƒ± turuncu √ßizim rengi

                canvas.addEventListener('mousedown', startDrawing);
                canvas.addEventListener('mouseup', stopDrawing);
                canvas.addEventListener('mousemove', draw);
                canvas.addEventListener('mouseout', stopDrawing); // Kanvas dƒ±≈üƒ±na √ßƒ±kƒ±nca durdur

                // Mobil i√ßin dokunmatik olaylar
                canvas.addEventListener('touchstart', (e) => {
                    e.preventDefault(); // Varsayƒ±lan dokunma davranƒ±≈üƒ±nƒ± engelle (kaydƒ±rma vb.)
                    const touch = e.touches[0];
                    startDrawing({ clientX: touch.clientX, clientY: touch.clientY });
                }, { passive: false }); // passive: false, preventDefault'in √ßalƒ±≈ümasƒ±nƒ± saƒülar
                canvas.addEventListener('touchend', stopDrawing);
                canvas.addEventListener('touchmove', (e) => {
                    e.preventDefault();
                    const touch = e.touches[0];
                    draw({ clientX: touch.clientX, clientY: touch.clientY });
                }, { passive: false });
            }
        }

        function startDrawing(e) {
            isDrawing = true;
            [lastX, lastY] = [e.clientX - canvas.getBoundingClientRect().left, e.clientY - canvas.getBoundingClientRect().top];
        }

        function draw(e) {
            if (!isDrawing) return;
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            [lastX, lastY] = [e.clientX - canvas.getBoundingClientRect().left, e.clientY - canvas.getBoundingClientRect().top];
            ctx.lineTo(lastX, lastY);
            ctx.stroke();
        }

        function stopDrawing() {
            isDrawing = false;
        }

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            document.getElementById('tracing-feedback').innerText = '';
            // Harf ana hattƒ±nƒ± tekrar √ßiz
            if (currentTracingLetter) {
                drawLetterOutline(currentTracingLetter);
            }
        }

        function loadTracingLetter() {
            clearCanvas();
            // Rastgele bir harf se√ß
            const randomIndex = Math.floor(Math.random() * turkishAlphabet.length);
            currentTracingLetter = turkishAlphabet[randomIndex].char;
            document.getElementById('tracing-letter').innerText = currentTracingLetter;
            
            // Harf ana hattƒ±nƒ± √ßiz (basit bir √∂rnek, daha geli≈ümi≈üi i√ßin SVG veya daha karma≈üƒ±k √ßizim algoritmalarƒ± gerekir)
            drawLetterOutline(currentTracingLetter);
            
            playSound(currentTracingLetter); // Harfin sesini √ßal
        }

        // BU KISIM BASƒ∞T Bƒ∞R G√ñSTERƒ∞M. GER√áEK√áƒ∞ HARF ƒ∞ZLEME ƒ∞√áƒ∞N DAHA GELƒ∞≈ûMƒ∞≈û ALGORƒ∞TMALAR GEREKƒ∞R.
        function drawLetterOutline(letter) {
            ctx.save();
            ctx.font = 'bold 200px "Baloo Bhai 2"'; // Daha b√ºy√ºk ve √ßocuk fontu
            ctx.fillStyle = '#FFECB3'; // √áok a√ßƒ±k sarƒ± (izlenecek harf rengi)
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            const x = canvas.width / 2;
            const y = canvas.height / 2;
            ctx.fillText(letter, x, y);
            ctx.restore();
        }

        function checkTracing() {
            // BU KONTROL ≈ûU AN ƒ∞√áƒ∞N SADECE BO≈û OLUP OLMADIƒûINA BAKIYOR.
            // Ger√ßek bir harf izleme kontrol√º, √ßizimin harfin ana hatlarƒ±na ne kadar uyduƒüunu analiz etmelidir.
            // Bu, √ßok daha karma≈üƒ±k bir algoritma gerektirir (√∂rn. piksel analizi veya yol e≈üle≈ütirme).
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            let pixelsDrawn = 0;
            for (let i = 0; i < imageData.data.length; i += 4) {
                // Sadece √ßizim renginin (FF6F00) piksellerini say
                if (imageData.data[i] === 255 && imageData.data[i+1] === 111 && imageData.data[i+2] === 0 && imageData.data[i+3] > 0) {
                    pixelsDrawn++;
                }
            }

            // Basit bir e≈üik deƒüeri ile kontrol
            if (pixelsDrawn > 500) { // Yeterli piksel √ßizildiyse ba≈üarƒ±lƒ± say
                showFeedback('Harikasƒ±n! Harfi iyi takip ettin!', 'correct', 'tracing-feedback');
                updateProgress('letter-tracing', currentTracingLetter, true);
            } else {
                showFeedback('Daha fazla √ßizmelisin.', 'incorrect', 'tracing-feedback');
                updateProgress('letter-tracing', currentTracingLetter, false);
            }
        }


        // Oyunlar B√∂l√ºm√º - Baloncuk Patlatma Oyunu
        let score = 0;
        let bubbleInterval;
        let gameActive = false;
        let gameTimer;
        const gameDuration = 30; // Oyun s√ºresi saniye cinsinden

        function startGame() {
            if (gameActive) return;
            gameActive = true;
            score = 0;
            document.getElementById('score').innerText = score;
            document.getElementById('bubble-game-area').innerHTML = ''; // Eski baloncuklarƒ± temizle
            bubbleInterval = setInterval(createBubble, 1000); // Her saniye yeni baloncuk
            
            // Oyun s√ºresi sayacƒ±
            let timeLeft = gameDuration;
            const timerDisplay = document.createElement('p');
            timerDisplay.id = 'game-timer';
            timerDisplay.style.fontSize = '1.2em';
            timerDisplay.style.fontWeight = 'bold';
            timerDisplay.style.marginTop = '10px';
            timerDisplay.style.color = '#388E3C';
            document.getElementById('bubble-game-area').parentNode.insertBefore(timerDisplay, document.getElementById('score').parentNode); // Puanƒ±n √ºst√ºne ekle

            gameTimer = setInterval(() => {
                timeLeft--;
                timerDisplay.innerText = `Kalan S√ºre: ${timeLeft} saniye`;
                if (timeLeft <= 0) {
                    stopGame();
                    alert(`Oyun Bitti! Puanƒ±nƒ±z: ${score}`);
                    updateProgress('games', 'baloncuk_oyunu', 'completed');
                    timerDisplay.remove(); // S√ºre bitince sayacƒ± kaldƒ±r
                }
            }, 1000);
        }

        function stopGame() {
            clearInterval(bubbleInterval);
            clearInterval(gameTimer);
            gameActive = false;
            const timerDisplay = document.getElementById('game-timer');
            if (timerDisplay) timerDisplay.remove();
        }

        function createBubble() {
            const gameArea = document.getElementById('bubble-game-area');
            if (!gameArea || !gameActive) return; // Oyun alanƒ± yoksa veya oyun aktif deƒüilse baloncuk olu≈üturma

            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            const size = Math.random() * 40 + 50; // 50px ile 90px arasƒ± boyut
            bubble.style.width = size + 'px';
            bubble.style.height = size + 'px';
            bubble.style.left = Math.random() * (gameArea.offsetWidth - size) + 'px';
            bubble.style.animationDuration = (Math.random() * 3 + 4) + 's'; // 4-7 saniye arasƒ± animasyon s√ºresi
            bubble.innerText = 'üí•'; // Baloncuk sembol√º

            bubble.onclick = () => {
                if (!gameActive) return;
                score++;
                document.getElementById('score').innerText = score;
                bubble.remove(); // Patlayan baloncuk silinsin
                playSound('correct-sound'); // Patlama sesi
            };

            gameArea.appendChild(bubble);

            // Ekran dƒ±≈üƒ±na √ßƒ±kan baloncuklarƒ± temizle
            bubble.addEventListener('animationend', () => {
                if (bubble.parentNode === gameArea) { // Hali hazƒ±rda tƒ±klanƒ±p silinmediyse
                    bubble.remove();
                }
            });
        }

        // Okuma Metinleri ve Okuduƒüunu Anlama Fonksiyonlarƒ±
        function loadStory(index) {
            if (index < 0 || index >= stories.length) {
                showFeedback('Ba≈üka hikaye yok!', 'incorrect', 'story-feedback', 3000);
                return;
            }
            currentStoryIndex = index;
            const story = stories[currentStoryIndex];
            document.getElementById('story-title').innerText = story.title;
            document.getElementById('story-content').innerText = story.content;
            document.getElementById('story-question').innerText = story.question;

            const optionsDiv = document.getElementById('story-options');
            optionsDiv.innerHTML = '';
            story.options.forEach(option => {
                const button = document.createElement('button');
                button.innerText = option;
                button.onclick = () => checkStoryAnswer(option, story.answer);
                optionsDiv.appendChild(button);
            });
            document.getElementById('story-feedback').innerText = ''; // Geri bildirimi temizle
            stopStory(); // Yeni hikaye y√ºklenince √∂nceki sesi durdur
        }

        function playStory() {
            stopAllSounds(); // T√ºm sesleri durdur
            const story = stories[currentStoryIndex];
            currentStoryAudio = document.getElementById(story.sound);
            if (currentStoryAudio) {
                currentStoryAudio.play().catch(e => console.error("Hikaye √ßalma hatasƒ±:", e));
            } else {
                console.warn(`Hikaye sesi bulunamadƒ±: ${story.sound}`);
            }
        }

        function stopStory() {
            if (currentStoryAudio) {
                currentStoryAudio.pause();
                currentStoryAudio.currentTime = 0;
                currentStoryAudio = null;
            }
        }

        function nextStory() {
            stopStory(); // Yeni hikayeye ge√ßmeden √∂nce mevcut hikayeyi durdur
            loadStory((currentStoryIndex + 1) % stories.length);
        }

        function checkStoryAnswer(selectedAnswer, correctAnswer) {
            if (selectedAnswer === correctAnswer) {
                showFeedback('Doƒüru cevap! Harikasƒ±n!', 'correct', 'story-feedback');
                updateProgress('stories', stories[currentStoryIndex].id, true);
            } else {
                showFeedback(`Yanlƒ±≈ü cevap. Doƒürusu: ${correctAnswer}`, 'incorrect', 'story-feedback');
                updateProgress('stories', stories[currentStoryIndex].id, false);
            }
        }

        // Sayfa y√ºklendiƒüinde √ßalƒ±≈üacak kodlar
        window.onload = () => {
            let storedName = localStorage.getItem('userName');
            if (storedName) {
                document.getElementById('user-name').innerText = storedName;
                switchScreen('menu'); // Eƒüer isim kayƒ±tlƒ±ysa doƒürudan men√ºye git
            } else {
                switchScreen('login'); // ƒ∞sim kayƒ±tlƒ± deƒüilse giri≈ü ekranƒ±nƒ± g√∂ster
            }
            generateLetterCards(); // Harf kartlarƒ±nƒ± olu≈ütur
            
            // Kayƒ±tlƒ± ses seviyesini t√ºm ses elemanlarƒ±na uygula
            const savedVolume = localStorage.getItem('masterVolume');
            if (savedVolume !== null) {
                setAllVolumes(savedVolume);
                document.getElementById('masterVolume').value = savedVolume;
            } else {
                // Eƒüer kayƒ±tlƒ± bir ses seviyesi yoksa varsayƒ±lanƒ± (1) kaydet
                localStorage.setItem('masterVolume', '1');
            }

            // Harf izleme canvas'ƒ±nƒ± ilk ba≈üta ba≈ülat (gizli olsa bile)
            initTracingCanvas(); 
        };

        /* JavaScript Sonu */
    </script>
</body>
</html>
